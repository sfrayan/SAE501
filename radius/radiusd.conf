# FreeRADIUS Configuration File
# SAE501 - Configuration pour environnement de production
#
# Ce fichier est une configuration minimaliste mais compl√®te
# pour FreeRADIUS 3.0.21 sur Debian 11

prefix = /usr
exec_prefix = ${prefix}
installdir = ${exec_prefix}
logdir = /var/log/freeradius
raddbdir = /etc/freeradius/3.0
localesdir = /usr/share/freeradius

# Thread pool configuration
thread pool {
    num_networks = 1
    num_workers = 4
    max_queue_size = 65536
    max_requests_per_worker = 0
}

# Main server configuration
main {
    # Location of the PID file
    pidfile = ${run_dir}/radiusd.pid

    # Hostname lookup
    hostname_lookups = no

    # Max request time
    max_request_time = 30
    cleanup_delay = 5
    max_requests = 256

    # Security
    security {
        max_attributes = 0
        reject_delay = 0.000000
        status_server = no
        allow_core_dumps = no
    }
}

# Auth listener on port 1812
listener auth {
    type = auth
    ipaddr = *
    port = 1812
    transport = udp
}

# Accounting listener on port 1813
listener acct {
    type = acct
    ipaddr = *
    port = 1813
    transport = udp
}

# Auth listener IPv6
listener auth_ipv6 {
    type = auth
    ipv6addr = ::
    port = 1812
    transport = udp
}

# Accounting listener IPv6
listener acct_ipv6 {
    type = acct
    ipv6addr = ::
    port = 1813
    transport = udp
}

# Modules section
modules {
    # No modules loaded - minimal configuration
    # External modules can be enabled by adding symlinks to mods-enabled/
}

# Default virtual server
server default {
    # Authorize phase - empty
    authorize {
    }

    # Authenticate phase - empty
    authenticate {
    }

    # Pre-accounting phase - empty
    preacct {
    }

    # Accounting phase - empty
    accounting {
    }

    # Session phase - empty
    session {
    }

    # Post-auth phase - empty
    post-auth {
    }

    # Pre-proxy phase - empty
    pre-proxy {
    }

    # Post-proxy phase - empty
    post-proxy {
    }
}
